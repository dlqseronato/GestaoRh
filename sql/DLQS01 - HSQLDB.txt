CREATE TABLE CARGO 
(
ID	BIGINT  IDENTITY NOT NULL,
NOME            VARCHAR (150) NOT NULL ,
DESCRICAO        VARCHAR (200) NOT NULL,
NIVEL           BIGINT ,
VALOR_BASE_HORA DECIMAL(20,2)
)
;


CREATE TABLE
CONTA_BANCARIA
(
ID        BIGINT IDENTITY NOT NULL,
BANCO     BIGINT NOT NULL,
AGENCIA   BIGINT NOT NULL,
CONTA     BIGINT NOT NULL,
TIPO      BIGINT NOT NULL
);



CREATE TABLE
ENDERECO
(
ID			BIGINT	IDENTITY  NOT NULL,
RUA         VARCHAR(150) NOT NULL,
NUMERO      BIGINT    NOT NULL,
CEP         BIGINT    NOT NULL,
ESTADO      VARCHAR(50)   ,
PAIS        VARCHAR(50)   
);



CREATE TABLE
COLABORADOR
(
ID             BIGINT NOT NULL,
NOME           VARCHAR(150) NOT NULL,
CPF            BIGINT NOT NULL,
DT_NASCIMENTO  DATE,
GENERO         VARCHAR(1),
EMAIL          VARCHAR(150),
CTPS_NUM       BIGINT NOT NULL,
PIS_PASEP      BIGINT NOT NULL,
ID_CONTA_BANCARIA  BIGINT NOT NULL,
ID_ENDERECO    BIGINT,
ID_CARGO       BIGINT NOT NULL,

);


CREATE SEQUENCE SEQ_COLABORADOR
 START WITH     1000
 INCREMENT BY   1
;
 
 CREATE SEQUENCE SEQ_CONTA_BANCARIA
 START WITH     1000
 INCREMENT BY   1
;
 
 CREATE SEQUENCE SEQ_CARGO
 START WITH     1000
 INCREMENT BY   1
;
 
 CREATE SEQUENCE SEQ_ENDERECO
 START WITH     1000
 INCREMENT BY   1
;
 
  CREATE SEQUENCE SEQ_TELEFONE
 START WITH     1000
 INCREMENT BY   1
;
 
   CREATE SEQUENCE SEQ_COL_TELEFONE
 START WITH     1000
 INCREMENT BY   1
;
 
 



ALTER TABLE COLABORADOR ADD CONSTRAINT  FK_COLABORADOR_01 FOREIGN KEY (ID_ENDERECO)  REFERENCES ENDERECO (ID);
ALTER TABLE COLABORADOR ADD CONSTRAINT  FK_COLABORADOR_02 FOREIGN KEY (ID_CONTA_BANCARIA)  REFERENCES CONTA_BANCARIA (ID);
ALTER TABLE COLABORADOR ADD CONSTRAINT  FK_COLABORADOR_03 FOREIGN KEY (ID_CARGO)  REFERENCES CARGO (ID);
ALTER TABLE TELEFONE ADD CONSTRAINT  FK_TELEFONE_01 FOREIGN KEY (ID_COLABORADOR)  REFERENCES COLABORADOR (ID);



INSERT INTO CARGO (ID,NOME,DESCRICAO,NIVEL,VALOR_BASE_HORA) VALUES (0,'ERRO DE CARGO','CARGO GENERICO',1,1);
INSERT INTO CONTA_BANCARIA (ID,BANCO,AGENCIA,CONTA,TIPO) VALUES (0,1,1,1,1);
INSERT INTO ENDERECO (ID,RUA,NUMERO,CEP,ESTADO,PAIS) VALUES (0,'ENDERECO GENERICO',1,1,'GENERICO','GENERICO');
INSERT INTO COLABORADOR (ID,NOME,CPF,CTPS_NUM,PIS_PASEP,ID_CONTA_BANCARIA,ID_ENDERECO, ID_CARGO) VALUES (0,'FUNCIONARIO GENERICO',9999999999,9999,999999,0,0,0);
INSERT INTO TELEFONE (ID, ID_COLABORADOR,PREFIXO,NUMERO,TIPO) VALUES (0,0,99,999999999,0);


CREATE VIEW DADOS_COLABORADORES 
AS 
SELECT  CO.ID, CO.NOME, CO.CPF, CO.DT_NASCIMENTO, CO.GENERO, CO.EMAIL, CO.CTPS_NUM, CO.PIS_PASEP,
        CB.ID ID_CONTA, CB.BANCO, CB.AGENCIA, CB.CONTA,CB.TIPO,
        TE.ID ID_TELEFONE, TE.ID_COLABORADOR, TE.PREFIXO, TE.NUMERO, TE.TIPO TIPO_TELEFONE,
        E.ID ID_ENDERECO, E.RUA, E.NUMERO NUMERO_RUA, E.CEP, E.ESTADO, E.PAIS,
        CA.ID ID_CARGO, CA.NOME NOME_CARGO, CA.DESCRICAO, CA.NIVEL, CA.VALOR_BASE_HORA
FROM 
COLABORADOR CO JOIN CARGO CA
ON CO.ID_CARGO = CA.ID
JOIN TELEFONE TE
ON CO.ID = TE.ID_COLABORADOR
JOIN CONTA_BANCARIA CB
ON CO.ID_CONTA_BANCARIA = CB.ID
JOIN ENDERECO E
ON CO.ID_ENDERECO = E.ID;
